import matplotlib.pyplot as plt
import numpy as np
from simplegraphlib import newcoord
import math
mean_arr = np.array([[3.45, 2.5, 1.25, 2.15, 2.55, 2.45, 3.05, 3.3, 3.25, 3.5, 3.55, 3.25, 2.05, 1.65, 1.55, 1.6, 2.0, 1.9500000000000002, 2.9, 3.1, 3.3, 3.3, 2.9, 2.5, 1.8, 1.4, 1.5, 0.4, 2.05, 2.75, 2.95, 3.45, 3.4, 3.0700000000000003, 2.285, 2.2800000000000002, 2.3899999999999997, 2.365, 2.415, 3.0999999999999996, 3.5149999999999997, 4.14, 4.95, 5.52, 4.98, 4.470000000000001, 3.87, 3.06, 2.885, 2.885, 2.9000000000000004, 3.04, 3.3200000000000003, 4.07, 4.88, 5.08, 4.46, 3.855, 3.21, 2.75, 2.86, 2.83, 2.895, 3.085, 3.44, 4.49, 4.720000000000001, 4.575, 4.51, 3.6100000000000003, 2.675, 2.5, 2.53, 2.4749999999999996, 2.38, 2.755, 3.305, 3.5949999999999998, 4.045, 4.265000000000001, 3.8899999999999997, 3.5949999999999998, 3.065, 1.8450000000000002], [6.5, 5.05, 3.0, 4.0, 5.449999999999999, 6.45, 7.85, 8.15, 8.15, 8.0, 7.15, 6.4, 4.55, 2.55, 2.75, 3.25, 4.75, 5.75, 7.55, 8.05, 8.1, 7.7, 6.6, 4.85, 4.0, 2.3499999999999996, 2.5, 2.05, 4.9, 6.7, 7.55, 8.35, 8.4, 7.65, 6.0, 4.6, 5.1, 5.15, 5.1, 6.7, 7.65, 9.15, 10.95, 12.15, 11.15, 10.0, 8.6, 6.7, 6.2, 6.2, 6.1, 6.6, 7.5, 9.1, 10.5, 11.25, 10.35, 8.850000000000001, 7.3, 6.2, 6.15, 6.050000000000001, 6.050000000000001, 6.7, 7.75, 9.850000000000001, 10.5, 10.45, 9.75, 8.8, 7.5, 5.6, 5.0, 4.9, 4.9, 6.1, 7.449999999999999, 8.05, 9.05, 9.65, 8.65, 8.1, 7.1, 4.4], [166.0, 185.5, 122.0, 82.5, 88.5, 121.0, 130.0, 92.5, 86.0, 84.0, 112.5, 129.5, 134.0, 64.5, 77.0, 128.5, 155.5, 112.0, 114.5, 124.0, 129.5, 122.5, 129.0, 135.0, 193.5, 91.0, 91.5, 62.0, 79.5, 79.0, 85.0, 116.5, 104.0, 117.5, 91.0, 55.0, 30.0, 13.5, 6.0, 9.0, 11.0, 21.5, 39.5, 52.0, 54.0, 53.5, 49.5, 35.0, 26.0, 20.0, 15.0, 17.0, 32.0, 55.0, 60.5, 62.5, 70.0, 71.0, 61.0, 34.5, 25.0, 23.0, 18.0, 20.0, 33.0, 54.5, 67.5, 76.5, 77.0, 72.5, 59.0, 38.5, 27.5, 21.0, 15.0, 24.5, 40.5, 59.5, 75.0, 86.0, 97.5, 113.0, 124.0, 123.0]])
deg = mean_arr[2]
normal = mean_arr[0]
byar = mean_arr[1]



x_arr = np.array(['14/0-1', '14/2-3', '14/4-5', '14/6-7', '14/8-9', '14/10-11', '14/12-13', '14/14-15', '14/16-17', '14/18-19', '14/20-21', '14/22-23', '15/0-1', '15/2-3', '15/4-5', '15/6-7', '15/8-9', '15/10-11', '15/12-13', '15/14-15', '15/16-17', '15/18-19', '15/20-21', '15/22-23', '16/0-1', '16/2-3', '16/4-5', '16/6-7', '16/8-9', '16/10-11', '16/12-13', '16/14-15', '16/16-17', '16/18-19', '16/20-21', '16/22-23', '17/0-1', '17/2-3', '17/4-5', '17/6-7', '17/8-9', '17/10-11', '17/12-13', '17/14-15', '17/16-17', '17/18-19', '17/20-21', '17/22-23', '18/0-1', '18/2-3', '18/4-5', '18/6-7', '18/8-9', '18/10-11', '18/12-13', '18/14-15', '18/16-17', '18/18-19', '18/20-21', '18/22-23', '19/0-1', '19/2-3', '19/4-5', '19/6-7', '19/8-9', '19/10-11', '19/12-13', '19/14-15', '19/16-17', '19/18-19', '19/20-21', '19/22-23', '20/0-1', '20/2-3', '20/4-5', '20/6-7', '20/8-9', '20/10-11', '20/12-13', '20/14-15', '20/16-17', '20/18-19', '20/20-21', '20/22-23'])
#print(x_arr)
plt.figure(figsize=(10,10))
plt.plot(x_arr, normal)
plt.plot(x_arr, byar)
plt.fill_between(x_arr, normal, byar, color='gray', alpha=0.25)

arrow = dict (
    head_length=1,  # Length of the arrowhead
    head_width=0.6,   # Width of the arrowhead
)
between = np.mean([normal, byar], axis=0)

multiplier = (len(x_arr)/(np.amax(mean_arr[0:2]-np.amin(mean_arr[0:2]))))
print(multiplier)
print(len(x_arr))
for i, el in enumerate(x_arr):
    
    x,y = newcoord.from_deg_xy_len(deg[i], [0,0], len=2/3)
    multiplier*math.sin(math.radians(deg[i]))
    #print(math.sqrt(x**2+y**2)+1/3)

    arrowwidth = deg[i]
    while arrowwidth>90:
      arrowwidth-=90
    #print(arrowwidth/90)
    print(deg[i])
    plt.arrow(x=i, y=between[i], dx=x*multiplier, dy=y,width=0.25,  edgecolor="none",head_length=1/3)
  # denna i mitten




plt.show()